<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin - Customer Reviews</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

<style>
body { 
    background-color: #FFFBEA; 
    font-family: Arial, sans-serif; 
}

nav.navbar { 
    background-color: #2E8B57 !important; 
}

nav .navbar-brand, nav .nav-link { 
    color: white !important; 
    font-weight: bold; 
}

nav .nav-link:hover { 
    background-color: #FFD54F; 
    color: black !important; 
    border-radius: 5px; 
}

/* Review Card */
.review-card { 
    background-color: #FFF5E1; 
    border-radius: 10px; 
    padding: 15px; 
    margin-bottom: 15px; 
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.review-header { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    margin-bottom: 8px;
}

.rating { 
    color: #FFA500; 
    font-weight: bold; 
}

.btn-delete { 
    background-color: #FF4C4C; 
    border: none; 
    color: white; 
    font-weight: bold; 
    border-radius: 5px;
    padding: 5px 12px;
    transition: 0.2s;
}

.btn-delete:hover { 
    background-color: #FF1A1A; 
}

.container h2 {
    font-weight: bold;
    color: #2E8B57;
    margin-bottom: 20px;
}

.review-card p {
    margin-bottom: 5px;
}

.review-card small {
    display: block;
    margin-top: 5px;
    color: #555;
}
</style>
</head>
<body>
<nav class="navbar navbar-expand-sm navbar-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">SunnySide Market</a>
    <div class="collapse navbar-collapse" id="collapsibleNavbar">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="/inventory">Inventory</a></li>
        <li class="nav-item"><a class="nav-link" href="/admin/reviews">Customer Reviews</a></li>
        <li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container mt-4">
  <h2>Customer Reviews</h2>

  <% reviews.forEach(r => { %>
    <div class="review-card">
      <div class="review-header">
        <div>
          <strong><%= r.username %></strong> on <em><%= r.productName %></em>
        </div>
        <div class="rating"><%= r.rating %> ‚≠ê</div>
      </div>
      <p><%= r.comment %></p>
      <small class="text-muted"><%= new Date(r.createdAt).toLocaleString() %></small>

      <!-- Delete button for admin -->
      <form action="/reviews/delete/<%= r.id %>" method="POST" class="mt-2">
        <button type="submit" class="btn-delete">Delete</button>
      </form>
    </div>
  <% }) %>
</div>
</body>
</html>
